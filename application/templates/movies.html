{% extends 'nav.html' %}
{% block content %}
<div class="row">
    {% for movie in movies %}
      <div class="col-md-6">
        <a href="{{ url_for('movie', movie_id=movie.id) }}">
            <div class="card mb-4">
            <img src="{{ url_for('static', filename=movie.image) }}" alt="{{ movie.title }}" class="card-img-top" width="300px">
            <div class="card-body">
                <h2 class="card-title">{{ movie.title }}</h2>
                <h3 class="card-subtitle">{{ movie.release_date }}</h3>
            </div>
            </div>
        </a>
      </div>

    {% endfor %}
  </div>
  

<script>
    dates = document.querySelectorAll('h3');
    for (let i = 0; i < dates.length; i++) {
        let dateText = dates[i].innerText;  // Corrected variable name
        // remove all but first 4 chars from date
        dateText = dateText.substring(0, 4);
        // update date value
        dates[i].innerText = dateText;  // Corrected variable name
    }
</script>

{% endblock %}